name: Build client + server
on: [ push ]
jobs:
    build-client:
        name: Build client
        runs-on: ubuntu-latest

        steps:
            - name: Checkout
              uses: actions/checkout@v4

            - name: Set up Node.js
              uses: actions/setup-node@v4
              with:
                node-version: '22.x'

            - name: Install client dependencies
              run: cd client && npm install

            - name: Build client
              run: cd client && npm run build

            - name: Install server dependencies
              run: cd server && npm install

            - name: Build server
              run: cd server && npm run build
